<!DOCTYPE HTML>
<html>

<head>

<title>CampingMember</title>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no" />

<link rel="stylesheet" href="assets/css/main.css" />
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.css">


</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">


		<!-- Main -->
		<div id="main">
			<div class="inner">

				<!-- Header -->
				<header id="header">
					<a href="" class="logo"><strong> <i
							class="fa-solid fa-person-hiking"></i> 會員管理
					</strong>campingmapping</a>
					<ul class="icons">
						<li><a href="#" class="icon brands fa-twitter"><span
								class="label">Twitter</span></a></li>
						<li><a href="#" class="icon brands fa-facebook-f"><span
								class="label">Facebook</span></a></li>
						<li><a href="#" class="icon brands fa-snapchat-ghost"><span
								class="label">Snapchat</span></a></li>
						<li><a href="#" class="icon brands fa-instagram"><span
								class="label">Instagram</span></a></li>
						<li><a href="#" class="icon brands fa-medium-m"><span
								class="label">Medium</span></a></li>
					</ul>
				</header>
				<!-- Banner -->
				<section id="banner">
					<div class="content">
						<header>
							<h1>
								<i class="fa-solid fa-people-roof"></i>會員管理介面
							</h1>
						</header>
						<table id="memberlist" class="display">
							<thead class="memberCol" id="memberCol">
								<tr id="memberth">
									<th>會員編號</th>
									<th>帳號</th>
									<th>暱稱</th>
									<th>名字</th>
									<th>姓氏</th>
									<th>經驗值</th>
									<th>等級</th>
									<th>點數</th>
									<th>手機</th>
									<th>生日</th>
									<th>地區</th>
									<th>E-mail</th>
									<th>性別</th>
									<th>註冊日期</th>
									<th>訂閱狀態</th>
									<th>大頭貼</th>
								</tr>
							</thead>
							<tbody class="memberCol" id="memberCol">
							</tbody>
						</table>

						<ul class="actions">
							<li><a href="#" class="button big">Learn More</a></li>
						</ul>
					</div>

				</section>


				<!-- Section -->
				<!-- <section>
					<header class="major">
						<h2>Erat lacinia</h2>
					</header>
					<div class="features">
						<article>
							<span class="icon fa-gem"></span>
							<div class="content">
								<h3>Portitor ullamcorper</h3>
								<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
									facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							</div>
						</article>
						<article>
							<span class="icon solid fa-paper-plane"></span>
							<div class="content">
								<h3>Sapien veroeros</h3>
								<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
									facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							</div>
						</article>
						<article>
							<span class="icon solid fa-rocket"></span>
							<div class="content">
								<h3>Quam lorem ipsum</h3>
								<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
									facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							</div>
						</article>
						<article>
							<span class="icon solid fa-signal"></span>
							<div class="content">
								<h3>Sed magna finibus</h3>
								<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
									facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							</div>
						</article>
					</div>
				</section> -->

				<!-- Section -->
				<!-- <section>
					<header class="major">
						<h2>Ipsum sed dolor</h2>
					</header>
					<div class="posts">
						<article>
							<a href="#" class="image"><img src="images/pic01.jpg" alt="" /></a>
							<h3>Interdum aenean</h3>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
								facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							<ul class="actions">
								<li><a href="#" class="button">More</a></li>
							</ul>
						</article>
						<article>
							<a href="#" class="image"><img src="images/pic02.jpg" alt="" /></a>
							<h3>Nulla amet dolore</h3>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
								facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							<ul class="actions">
								<li><a href="#" class="button">More</a></li>
							</ul>
						</article>
						<article>
							<a href="#" class="image"><img src="images/pic03.jpg" alt="" /></a>
							<h3>Tempus ullamcorper</h3>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
								facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							<ul class="actions">
								<li><a href="#" class="button">More</a></li>
							</ul>
						</article>
						<article>
							<a href="#" class="image"><img src="images/pic04.jpg" alt="" /></a>
							<h3>Sed etiam facilis</h3>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
								facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							<ul class="actions">
								<li><a href="#" class="button">More</a></li>
							</ul>
						</article>
						<article>
							<a href="#" class="image"><img src="images/pic05.jpg" alt="" /></a>
							<h3>Feugiat lorem aenean</h3>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
								facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							<ul class="actions">
								<li><a href="#" class="button">More</a></li>
							</ul>
						</article>
						<article>
							<a href="#" class="image"><img src="images/pic06.jpg" alt="" /></a>
							<h3>Amet varius aliquam</h3>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin aliquam
								facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
							<ul class="actions">
								<li><a href="#" class="button">More</a></li>
							</ul>
						</article>
					</div>
				</section> -->

			</div>
		</div>

		<!-- Sidebar -->
		<div id="sidebar">
			<div class="inner">

				<!-- Search -->
				<section id="search" class="alt">
					<form method="post" action="#">
						<input type="text" name="query" id="query" placeholder="Search" />
					</form>
				</section>

				<!-- Menu -->
				<nav id="menu">
					<header class="major">
						<h2>Menu</h2>
					</header>
					<ul>
						<li><a href="index.html">Homepage</a></li>
						<li><a href="generic.html">Generic</a></li>
						<li><a href="elements.html">Elements</a></li>
						<li><span class="opener">Submenu</span>
							<ul>
								<li><a href="#">Lorem Dolor</a></li>
								<li><a href="#">Ipsum Adipiscing</a></li>
								<li><a href="#">Tempus Magna</a></li>
								<li><a href="#">Feugiat Veroeros</a></li>
							</ul></li>
						<li><a href="#">Etiam Dolore</a></li>
						<li><a href="#">Adipiscing</a></li>
						<li><span class="opener">Another Submenu</span>
							<ul>
								<li><a href="#">Lorem Dolor</a></li>
								<li><a href="#">Ipsum Adipiscing</a></li>
								<li><a href="#">Tempus Magna</a></li>
								<li><a href="#">Feugiat Veroeros</a></li>
							</ul></li>
						<li><a href="#">Maximus Erat</a></li>
						<li><a href="#">Sapien Mauris</a></li>
						<li><a href="#">Amet Lacinia</a></li>
					</ul>
				</nav>

				<!-- Section -->
				<section>
					<header class="major">
						<h2>Ante interdum</h2>
					</header>
					<div class="mini-posts">
						<!-- <article>
							<a href="#" class="image"><img src="images/pic07.jpg" alt="" /></a>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore aliquam.</p>
						</article>
						<article>
							<a href="#" class="image"><img src="images/pic08.jpg" alt="" /></a>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore aliquam.</p>
						</article>
						<article>
							<a href="#" class="image"><img src="images/pic09.jpg" alt="" /></a>
							<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore aliquam.</p>
						</article> -->
					</div>
					<ul class="actions">
						<li><a href="#" class="button">More</a></li>
					</ul>
				</section>

				<!-- Section -->
				<section>
					<header class="major">
						<h2>Get in touch</h2>
					</header>
					<p>Sed varius enim lorem ullamcorper dolore aliquam aenean
						ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin
						sed aliquam facilisis ante interdum. Sed nulla amet lorem feugiat
						tempus aliquam.</p>
					<ul class="contact">
						<li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li>
						<li class="icon solid fa-phone">(000) 000-0000</li>
						<li class="icon solid fa-home">1234 Somewhere Road #8254<br />
							Nashville, TN 00000-0000
						</li>
					</ul>
				</section>

				<!-- Footer -->
				<footer id="footer">
					<p class="copyright">
						&copy; Untitled. All rights reserved. Demo Images: <a
							href="https://unsplash.com">Unsplash</a>. Design: <a
							href="https://html5up.net">HTML5 UP</a>.
					</p>
				</footer>

			</div>
		</div>

	</div>





</body>
<!-- Scripts -->

<script src="https://code.jquery.com/jquery-3.6.1.js"></script>
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script src="../fontawesome-free-6.2.1-web/js/all.js"></script>
<script type="text/javascript" charset="utf8"
	src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.js"></script>
<!-- <script src="assets/js/tableClass.js"></script> -->
<script>
	$(function() {
		// let memberlist
		$(document).ready(function() {
			$.ajax({
				url : "/campingmapping/ShowMemberServlet",
				type : "POST",
				// 發送請求
				data : {
					"show" : "show"
				},
				dataType : "text",
			}).done(function(data) {

				console.log(data)
				// let chyp = "\"data\" \:"+data
				// console.log(chyp)

				// memberlist = JSON.parse(data);
				// console.log(memberlist)
			});
		})
		$(document).ready(function() {

			$('#memberlist').DataTable({

				"ajax":{
				"url" : "/campingmapping/ShowMemberServlet",
				"type" : "POST",
				// 發送請求
				"dataSrc":""
				},
				
				// processing : true,
				// serverSide : true,
				
				"columns" : [ {
					"data" : 'UID'
				}, {
					"data" : 'account'
				}, {
					"data" : 'Nickname'
				}, {
					"data" : 'firstname'
				}, {
					"data" : 'lastname'
				}, {
					"data" : 'exp'
				}, {
					"data" : 'leavel'
				}, {
					"data" : 'point'
				}, {
					"data" : 'phone'
				}, {
					"data" : 'birthday'
				}, {
					"data" : 'address'
				}, {
					"data" : 'email'
				}, {
					"data" : 'gender'
				}, {
					"data" : function (data,type,row,meta) {
return data.substr(0,4)+"/"+data.substr(4,2)+"/"+data.substr(6,2)
						
					}
				}, {
					"data" : 'subscribed'
				}, {
					"data" : 'shot'
				} ]

			});
		});
		// searching”:
		// 是否開啟搜尋欄位，參數值有true/false。

		// “paging”:
		// 設置是否要開啟分頁功能，參數值有true/false。

		// “sPaginationType”:
		// 分頁功能呈現樣式，預設參數值"full_numbers"
		// 關於官方說明可參考 https://datatables.net/reference/option/pagingType

		// “lengthMenu”:
		// 設置顯示筆數下拉選單內，顯示可區分幾筆參數
		// 預設參數值 [[10, 25, 50, -1], [10, 25, 50, “All”]]，代表要顯示10、25、50筆資料，其中 -1是告訴Datatables要關閉分頁欄位，因為是顯示全部資料，所以到這裡也可以發現它是跟"ALL"配對呼應的，只是要有一個開關去告訴Datatables要關閉分頁欄位，不然顯示全部資料那分頁就應該不需要存在才對。

		// “processing”:
		// 當頁面剛載入時候，是否要顯示當前資料處理狀態資訊，參數值有true/false

		// “serverSide”:
		// 設置是否透過Server端處理分頁、排序、過濾處理機制模式，也就是決定這三者功能是否給Server端處理好在回傳給前端顯示，或者，全都給Client端去做處理，參數值有true/false。
		// 全都給Client端處理情況下，必須要注意資料量多寡問題，當資料筆數是非常龐大的時候，受限於電腦效能，如果電腦效能不太穩定可能會帶來不好的體驗，並且也要考慮到資料安全問題，因為必須要將全部資料回傳給Client端自己去做分頁、排序、過濾處理機制。
		// 給予Server端處理情況下，透過ajax與指定API發送請求，透過特定關鍵字條件參數，告知後端要在特定條件參數值下，回傳符合的結果資料即可，不需回傳全部的資料給前端處理。

		// “stateSave”:
		// 設置在頁面刷新時，是否要保存當前表格資料與狀態，不保存便會在刷新時回復到原始初始狀態，參數值有true/false。

		// “destroy”:
		// 設置每一次Datatables有做修改時，是否銷毀當前暫存資料，參數值有true/false。

		// “info”:
		// 設置是否要顯示Datatables基本資訊狀態欄，參數值有true/false。

		// “autoWidth”:
		// 設置是否要自動調整表格寬度(自適應當前資料量設置表格寬度)，如果為false代表不要自適應，讓表格寬度遠永填滿當前所在區塊大小，參數值有true/false。

		// “ordering”:
		// 設置是否要開啟欄位排序，如果為true情況下，可以點擊header欄位來進行當前資料排序，點哪一個欄位就是以該欄位作為排序依據，參數值有true/false。

		// “scrollCollapse”:
		// 設置是否開始滾軸功能控制X、Y軸，參數值有true/false。

		// “scrollY”:
		// 設置Y軸最大高度，如果有設置此選項就會開啟Y軸滾軸功能，假設為"200px"代表最大高度為200px，當資料筆數呈現高度超過此限制就會開啟滾軸功能。

		// “scrollX”:
		// 設置X軸最大寬度，如果有設置此選項就會開啟X軸滾軸功能，假設為"500px"代表最大寬度為500px，當資料筆數呈現寬度超過此限制就會開啟滾軸功能。

		// “dom”:
		// 設置各Datattables元件所處在位置，
		// 可參考關於Datatables各元件位置設定(DOM positioning)
		// https://datatables.net/examples/basic_init/dom.html

		// '<"top">rt<"bottom"><"clear">'

		// l - length changing input control
		// f - filtering input
		// t - The table!
		// i - Table information summary
		// p - pagination control
		// r - processing display element

		// 	let arr = [];
		// 	$(document).ready(function() {
		// 		$.ajax({
		// 			url : "/campingmapping/ShowMemberServlet",
		// 			type : "POST",
		// 			// 發送請求
		// 			data : {
		// 				"show" : "show"
		// 			},
		// 			dataType : "text",
		// 		}).done(function(data) {
		// 			// console.log(data)
		// 			let memberlist = JSON.parse(data);
		// 			// console.log(memberlist)
		// 			// let list = null2str(memberlist);
		// 			// console.log(list)
		// 			var tbody = document.querySelector('tbody');
		//         for(var i = 0; i <memberlist.length; i++){
		// 			//外面的for循环管行 tr
		// 			// 创建tr行
		// 			// 创建tr行
		// 			// 创建tr行
		// 			var tr = document.createElement('tr');
		// 			tbody.appendChild(tr);
		// 			// 2.行里面创建单元格 td 单元格的数量取决于每个对象里面的属性个数
		// 			for(var k in memberlist[i]){ 
		// 			//里面的for循环管列td
		// 			// 创建单元格
		// 			var td = document.createElement('td');
		// 			// 把对象里面的属性值data[i][k]赋值给td     
		// 			// k得到的是属性名 obj[k]得到的是属性值   datas[i]=obj  datas[i][k]=obj[k]
		// 			td.innerHTML = memberlist[i][k];
		// 			tr.appendChild(td);
		// 			} // 3.创建'删除'的单元格
		// 			var td = document.createElement('td');
		// 			td.innerHTML = '<a href="javascript:;">删除</a>';
		// 			tr.appendChild(td); 
		// 			}
		// 			// 4.删除操作
		// 			var as = document.querySelectorAll('a');
		// 			for(var i = 0; i < as.length; i++){
		// 			as[i].onclick = function(){
		// 			// 点击a 删除当前a所在的行
		// 			tbody.removeChild(this.parentNode.parentNode);
		// 			}
		// 			}
		// 			// 拿到array物件 
		// 			memberlist.find((obj) => {
		// 				// 找到物件的KEYs					
		// 				for(const[key,value] of 
		// 				Object.entries(obj)){
		// 					arr.push(key)
		// 					// console.log(ksey+value)						
		// 				}

		// 			});		
		// 			// 刪除重複值
		// 			var keys = new Set();				
		// 			arr.forEach(item => {
		// 				if(!keys.has(item) ){
		// 					keys.add(item);}
		// 			})
		// 			// 表頭
		// 			keys.forEach(k => {
		// 				$('#memberth').append(`<td>${k}</td>`)
		// 			});

		// 		})
		// 	})
		// })
		// $(function(){
		// 	function null2str(data){
		// 		for (let x in data) {
		// 			if (data[x]===null) {
		// 				data[x]= "";
		// 			}else{
		// 				if (Array.isArray(data[x])) {
		// 					data[x] = data[x].map(z=>{
		// 						return null2str(z)
		// 					});
		// 				}
		// 				if (typeof(data[x])==="object") {
		// 					data[x]=null2str(data[x])
		// 				}
		// 			}

		// 		}
		// 		return data;
		// 	}
	})
</script>


</html>