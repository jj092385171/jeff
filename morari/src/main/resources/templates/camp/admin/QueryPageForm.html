<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <script src="/morari/admin/js/head.js"></script>

    <!-- sharepage -->
    <script src="/morari/admin/js/share.js"></script>

</head>

<body id="page-top" style="display: none">

    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- sidebar -->
        <div class="sidebarshare"></div>
        <!-- sidebar end -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- topbar -->
                <div class="topbarshare"></div>
                <!-- topbar end -->

                <!-- Begin Page Content(開始主要內容區塊) -->
                <div class="container-fluid">

                    <form id="cityform" method="post">
                        <table id="citytable"></table>
                    </form>
                    <form id="idform" action="queryCampsByCampID.controller" method="post">
                        <table id="idtable">
                            <thead>
                                <th>
                                    <h2>ID查詢營地資料</h2>
                                </th>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <input name="campID" value="" type="text">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </form>

                    <div>
                        <a href="/morari/admin/camp/queryPage.controller">&emsp;查詢&emsp;營地_營區位</a>
                        <br>
                        <a href="/morari/admin/camp/insertPage.controller">&emsp;新增&emsp;營地_營區位</a>
                        <br>
                        <a href="/morari/admin/camp/indexShowAllCamp.controller">回首頁</a>
                    </div>

                </div>
                <!-- /.container-fluid(結束主要內容區塊) -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <div class="footershare"></div>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="loginoutshare"></div>

    <!-- Bootstrap core JavaScript-->
    <script src="/morari/admin/vendor/jquery/jquery.min.js" defer></script>
    <script src="/morari/admin/vendor/bootstrap/js/bootstrap.bundle.min.js" defer></script>

    <!-- Core plugin JavaScript-->
    <script src="/morari/admin/vendor/jquery-easing/jquery.easing.min.js" defer></script>

    <!-- Custom scripts for all pages-->
    <script src="/morari/admin/js/sb-admin-2.min.js" defer></script>

    <!-- Page level plugins -->
    <script src="/morari/admin/vendor/chart.js/Chart.min.js" defer></script>

    <!-- Page level custom scripts -->
    <script src="/morari/admin/js/demo/chart-area-demo.js" defer></script>
    <script src="/morari/admin/js/demo/chart-pie-demo.js" defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

    <script type="text/javascript">
        $(function () {
            $.getJSON('/morari/admin/camp/indexShowAllCamp.controller', function (data) {

                var cityList = data["cityList"];
                var citytable = $('#citytable');
                var citys = '';
                var tr = '';
                citytable.append("<thead><th><h2>縣市查詢營地資料</h2></th></thead>")
                $.each(cityList, function (i, n) {
                    citys += '<input type="checkbox" name="cityID" value="' + n.cityID + '" />' + n.cityName
                });
                tr += '<tbody><tr><td>縣市:</td><td>' + citys + '</td></tr><tr><td colspan="2"><input type="submit" value="送出"></td></tr></tbody>'
                citytable.append(tr);
            });


            $(document).ready(function () {
                $('#cityform').on('submit', function (e) {
                    e.preventDefault();
                    var checkboxValues = [];
                    $("input[name='cityID']:checked").each(function () {
                        checkboxValues.push($(this).val());
                    });
                    var jsonData = JSON.stringify(checkboxValues);
                    $.ajax({
                        url: '/morari/admin/camp/queryCampsByCityIDs.controller',
                        type: 'post',
                        data: jsonData,
                        dataType: 'json',
                        contentType: 'application/json',
                        success: function (QueryByCityIDsResult) {
                            // console.log(QueryByCityIDsResult)
                            sessionStorage.setItem("QueryByCityIDsResult", JSON.stringify(QueryByCityIDsResult));
                            // console.log(JSON.stringify(QueryByCityIDsResult))
                            window.location.href = '/morari/admin/camp/QueryByCityIDsResult';

                        }
                    });
                });
            });
        });
    </script>

</body>

</html>